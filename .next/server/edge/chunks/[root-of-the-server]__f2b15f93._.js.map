{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  if (\n    pathname.startsWith('/api') ||\n    pathname.startsWith('/_next') ||\n    pathname.startsWith('/login') ||\n    pathname.startsWith('/signup') ||\n    pathname.startsWith('/dashboard') ||\n    pathname.startsWith('/admin') ||\n    pathname.startsWith('/preview') ||\n    pathname.startsWith('/sites') ||\n    pathname === '/' ||\n    pathname.endsWith('.ico') ||\n    pathname.endsWith('.png') ||\n    pathname.endsWith('.jpg') ||\n    pathname.endsWith('.svg')\n  ) {\n    return NextResponse.next();\n  }\n\n  const pathParts = pathname.split('/').filter(Boolean);\n  \n  if (pathParts.length >= 1) {\n    const username = pathParts[0];\n    const filePath = pathParts.slice(1).join('/') || 'index.html';\n\n    const url = request.nextUrl.clone();\n    url.pathname = `/sites/${username}/${filePath}`;\n\n    const response = NextResponse.rewrite(url);\n    response.headers.set('Cache-Control', 'no-cache, no-store, must-revalidate');\n    return response;\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: ['/((?!_next/static|_next/image|favicon.ico).*)'],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,IACE,SAAS,UAAU,CAAC,WACpB,SAAS,UAAU,CAAC,aACpB,SAAS,UAAU,CAAC,aACpB,SAAS,UAAU,CAAC,cACpB,SAAS,UAAU,CAAC,iBACpB,SAAS,UAAU,CAAC,aACpB,SAAS,UAAU,CAAC,eACpB,SAAS,UAAU,CAAC,aACpB,aAAa,OACb,SAAS,QAAQ,CAAC,WAClB,SAAS,QAAQ,CAAC,WAClB,SAAS,QAAQ,CAAC,WAClB,SAAS,QAAQ,CAAC,SAClB;QACA,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,MAAM,YAAY,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IAE7C,IAAI,UAAU,MAAM,IAAI,GAAG;QACzB,MAAM,WAAW,SAAS,CAAC,EAAE;QAC7B,MAAM,WAAW,UAAU,KAAK,CAAC,GAAG,IAAI,CAAC,QAAQ;QAEjD,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,UAAU;QAE/C,MAAM,WAAW,gMAAY,CAAC,OAAO,CAAC;QACtC,SAAS,OAAO,CAAC,GAAG,CAAC,iBAAiB;QACtC,OAAO;IACT;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAgD;AAC5D"}}]
}